<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Magic Math Master ‚Äì M·∫´u ƒêƒÉng K√Ω</title>
  <meta name="description" content="ƒêƒÉng k√Ω c√°c ch∆∞∆°ng tr√¨nh h·ªçc to√°n c·ªßa Magic Math Master. Ho√†n th√†nh m·∫´u ƒëƒÉng k√Ω cho l·ªõp 1 k√®m 1, l·ªõp nh√≥m, C√¢u l·∫°c b·ªô To√°n ho·∫∑c luy·ªán thi to√°n." />

  <!-- Shared site stylesheet -->
  <link rel="stylesheet" href="../style.css" />

  <!-- favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">

  <style>
    :root {
      --bg: #efe7e3;
      --card: rgba(255,255,255,.96);
      --ink: #172033;
      --muted: #5f6b7a;
      --brand: #f28c28;
      --brand-dark: #a84300;
      --line: #e8d9cf;
      --accent: #0b5ed7;
      --accent-soft: rgba(11,94,215,.08);
      --hero: #08153e;
      --green: #138a48;
      --amber: #cc7a00;
      --red: #cf3d32;
      --radius: 18px;
      --shadow: 0 14px 34px rgba(2, 6, 23, .10);
      --shadow-soft: 0 8px 22px rgba(84, 37, 0, .06);
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      margin: 0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(900px 500px at 10% 0%, rgba(242,140,40,.10), transparent 55%),
        radial-gradient(900px 550px at 90% 6%, rgba(11,94,215,.08), transparent 58%),
        linear-gradient(180deg, #f5efec 0%, var(--bg) 100%);
      color: var(--ink);
      line-height: 1.55;
    }

    body.modal-open {
      overflow: hidden;
    }

    a { color: var(--accent); }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(10px);
      background: rgba(255,255,255,.84);
      border-bottom: 1px solid rgba(232, 217, 207, .9);
    }

    .container {
      width: min(1040px, calc(100% - 28px));
      margin: 0 auto;
    }

    .topbar-inner {
      min-height: 66px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 14px;
    }

    .brand {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--ink);
      font-weight: 1000;
      letter-spacing: -.2px;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      object-fit: contain;
      display: block;
    }

    .brand-title b {
      display: block;
      font-size: 1rem;
      line-height: 1.1;
    }

    .top-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      min-height: 46px;
      padding: 0 18px;
      border-radius: 999px;
      text-decoration: none;
      font-weight: 900;
      border: 0;
      cursor: pointer;
      transition: transform .12s ease, filter .12s ease, opacity .12s ease;
      box-shadow: 0 10px 20px rgba(2, 6, 23, .10);
      font: inherit;
    }

    .btn:hover {
      transform: translateY(-1px);
      filter: brightness(1.03);
    }

    .btn:disabled {
      opacity: .7;
      cursor: not-allowed;
      transform: none;
      filter: none;
    }

    .btn-success { background: linear-gradient(135deg, #1f9d58, var(--green)); color: #fff; }
    .btn-amber { background: linear-gradient(135deg, #f4a528, var(--amber)); color: #fff; }
    .btn-outline {
      background: rgba(255,255,255,.92);
      color: var(--accent);
      border: 1px solid rgba(11,94,215,.18);
      box-shadow: none;
    }

    main {
      padding: 18px 0 40px;
    }

    .hero-card {
      overflow: hidden;
      border-radius: calc(var(--radius) + 4px);
      box-shadow: 0 18px 36px rgba(2, 6, 23, .14);
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      margin-bottom: 16px;
    }

    .hero-banner {
      display: block;
      width: 100%;
      height: auto;
      background: var(--hero);
    }

    .hero-copy {
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,249,244,.96));
      border-top: 1px solid var(--line);
      padding: 20px;
    }

    .hero-title {
      margin: 0 0 8px;
      font-size: clamp(1.7rem, 4vw, 2.5rem);
      line-height: 1.15;
      color: var(--brand-dark);
      font-weight: 1000;
      letter-spacing: -.3px;
    }

    .hero-desc {
      margin: 0;
      color: var(--muted);
      font-size: 1rem;
      font-weight: 700;
      line-height: 1.7;
    }

    .hero-pills {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .hero-pill {
      padding: 9px 14px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: var(--accent);
      font-weight: 900;
      border: 1px solid rgba(11,94,215,.14);
      font-size: .95rem;
    }

    .page-card,
    .form-card {
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow-soft);
    }

    .page-card {
      padding: 22px;
      margin-bottom: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.97), rgba(255,250,247,.96));
    }

    .form-card {
      padding: 22px;
      position: relative;
      overflow: hidden;
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,251,248,.97));
      border-top: 5px solid rgba(242,140,40,.55);
    }

    .form-card::after {
      content: "";
      position: absolute;
      right: -30px;
      top: -30px;
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(242,140,40,.10), transparent 70%);
      pointer-events: none;
    }

    .page-title {
      margin: 0 0 12px;
      font-size: clamp(1.6rem, 3.5vw, 2.4rem);
      font-weight: 1000;
      line-height: 1.15;
      color: var(--ink);
      padding-bottom: 12px;
      border-bottom: 3px solid rgba(168,67,0,.85);
    }

    .lead {
      margin: 0 0 12px;
      font-size: 1.02rem;
      color: var(--ink);
    }

    .lead strong { font-weight: 1000; }

    .contact-list {
      display: grid;
      gap: 8px;
      margin: 10px 0 14px;
    }

    .contact-list a {
      color: var(--accent);
      text-decoration: none;
      font-weight: 800;
    }

    .contact-list a:hover { text-decoration: underline; }

    .contact-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 12px 0 10px;
    }

    .contact-chip,
    .copy-mail-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      min-height: 42px;
      padding: 0 14px;
      border-radius: 999px;
      font: inherit;
      font-weight: 900;
      cursor: pointer;
      text-decoration: none;
      border: 1px solid rgba(11,94,215,.16);
      background: rgba(11,94,215,.06);
      color: var(--accent);
      box-shadow: none;
    }

    .contact-chip.secondary {
      background: rgba(31,157,88,.08);
      border-color: rgba(31,157,88,.18);
      color: var(--green);
    }

    .copy-mail-btn {
      background: rgba(242,140,40,.10);
      border-color: rgba(242,140,40,.18);
      color: var(--brand-dark);
    }

    .contact-chip:hover,
    .copy-mail-btn:hover {
      filter: brightness(1.02);
      transform: translateY(-1px);
    }

    .copy-note {
      margin: 4px 0 0;
      color: var(--green);
      font-weight: 700;
      min-height: 22px;
      font-size: .94rem;
    }

    form {
      display: grid;
      gap: 16px;
    }

    .section-title {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin: 0 0 16px;
      padding: 7px 12px;
      border-radius: 999px;
      color: var(--brand-dark);
      font-size: 1.02rem;
      font-weight: 1000;
      letter-spacing: -.1px;
      background: rgba(242,140,40,.10);
      box-shadow: inset 0 0 0 1px rgba(242,140,40,.10);
    }

    .field-block + .field-block {
      margin-top: 18px;
    }

    label,
    legend {
      display: block;
      font-weight: 900;
      margin-bottom: 10px;
      font-size: 1.03rem;
      color: var(--ink);
    }

    .required::after {
      content: " *";
      color: #d93025;
      font-weight: 1000;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select,
    textarea {
      width: 100%;
      border: 1.5px solid #d9dce5;
      border-radius: 14px;
      background: rgba(255,255,255,.98);
      padding: 14px 16px;
      font: inherit;
      color: var(--ink);
      outline: none;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.85);
      transition: border-color .12s ease, box-shadow .12s ease, background-color .12s ease;
    }

    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="tel"]:focus,
    select:focus,
    textarea:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(11,94,215,.08);
      background: #fff;
    }

    select {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-image:
        linear-gradient(45deg, transparent 50%, var(--muted) 50%),
        linear-gradient(135deg, var(--muted) 50%, transparent 50%);
      background-position:
        calc(100% - 20px) calc(1.2em + 2px),
        calc(100% - 14px) calc(1.2em + 2px);
      background-size: 6px 6px, 6px 6px;
      background-repeat: no-repeat;
      padding: 14px 44px 14px 16px;
      cursor: pointer;
    }

    option {
      padding-left: 10px;
    }

    textarea {
      min-height: 130px;
      resize: vertical;
    }

    .helper,
    .note,
    .small {
      margin-top: 8px;
      color: var(--muted);
      font-size: .96rem;
      font-weight: 650;
      line-height: 1.6;
    }

    fieldset {
      margin: 0;
      padding: 0;
      border: 0;
      min-width: 0;
    }

    .option-list {
      display: grid;
      gap: 12px;
      margin-top: 12px;
    }

    .option {
      display: flex;
      align-items: center;
      gap: 12px;
      min-height: 34px;
      font-weight: 650;
      color: var(--ink);
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,.78);
      border: 1px solid rgba(217,220,229,.72);
    }

    .option input {
      width: 22px;
      height: 22px;
      margin: 0;
      flex: 0 0 auto;
      accent-color: var(--accent);
    }

    .inline-other {
      margin-top: 10px;
      display: none;
    }

    .inline-other.show { display: block; }

    .privacy {
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(248,251,255,.96));
      border-top-color: rgba(11,94,215,.35);
    }

    .submit-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
      margin-top: 20px;
    }

    .submit-row .btn { min-width: 160px; }

    .error {
      color: #b91c1c;
      font-weight: 800;
      margin-top: 8px;
      display: none;
    }

    .error.show { display: block; }

    .footer {
      padding: 22px 0 34px;
      color: var(--muted);
      font-weight: 700;
      text-align: center;
      font-size: .95rem;
    }

    /* Modal */
    .modal-backdrop[hidden] {
      display: none;
    }

    .modal-backdrop {
      position: fixed;
      inset: 0;
      z-index: 100;
      background: rgba(15, 23, 42, .42);
      display: grid;
      place-items: center;
      padding: 18px;
    }

    .modal-card {
      width: min(100%, 460px);
      background: #fff;
      border-radius: 22px;
      padding: 22px;
      box-shadow: 0 28px 60px rgba(2, 6, 23, .24);
      border: 1px solid rgba(232, 217, 207, .9);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .modal-card::before {
      content: "";
      position: absolute;
      inset: 0 auto auto 0;
      width: 100%;
      height: 7px;
      background: linear-gradient(90deg, var(--brand), var(--accent), var(--green));
    }

    .modal-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      min-height: 34px;
      padding: 0 12px;
      border-radius: 999px;
      background: rgba(31,157,88,.10);
      color: var(--green);
      font-weight: 900;
      margin-bottom: 12px;
    }

    .modal-card h3 {
      margin: 0 0 10px;
      font-size: 1.35rem;
      color: var(--ink);
    }

    .modal-card p {
      margin: 0;
      color: var(--muted);
      line-height: 1.65;
      font-weight: 650;
    }

    .modal-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      margin-top: 18px;
    }

    @media (max-width: 820px) {
      .container { width: min(100%, calc(100% - 18px)); }
      .topbar-inner { padding: 8px 0; align-items: flex-start; flex-direction: column; }
      .top-actions { width: 100%; }
      .top-actions .btn { flex: 1 1 auto; }
      .page-card, .form-card, .hero-copy, .modal-card { padding: 16px; }
      .contact-actions { flex-direction: column; align-items: stretch; }
    }

    @media (max-width: 560px) {
      .hero-banner {
        max-height: 185px;
        object-fit: cover;
        object-position: center;
      }
      .submit-row .btn,
      .modal-actions .btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="container topbar-inner">
      <a class="brand" href="index.html" aria-label="Trang ch·ªß Magic Math Master">
        <img class="brand-logo" src="../assets/logo.png" alt="Logo Magic Math Master" />
        <div class="brand-title">
          <b>Magic Math Master</b>
        </div>
      </a>
      <div class="top-actions">
        <a class="btn btn-outline" href="index.html">Trang ch·ªß</a>
        <a class="btn btn-success" href="enquiry.html">G·ª≠i c√¢u h·ªèi</a>
      </div>
    </div>
  </div>

  <main>
    <div class="container">
      <section class="hero-card" aria-label="Banner Magic Math Master">
        <img class="hero-banner" src="../assets/banner.png" alt="Banner Magic Math Master" loading="eager" />
        <div class="hero-copy">
          <h1 class="hero-title">ƒêƒÉng k√Ω v·ªõi Magic Math Master</h1>
          <p class="hero-desc">
            Bi·ªÉu m·∫´u n√†y ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ph·ª• huynh ƒëi·ªÅn nhanh, r√µ r√†ng v√† d·ªÖ d√πng tr√™n c·∫£ m√°y t√≠nh l·∫´n ƒëi·ªán tho·∫°i.
          </p>
          <div class="hero-pills">
            <span class="hero-pill">Prep ƒë·∫øn L·ªõp 12</span>
            <span class="hero-pill">H·ªçc online &amp; tr·ª±c ti·∫øp</span>
            <span class="hero-pill">D·∫°y h·ªçc x√¢y d·ª±ng s·ª± t·ª± tin</span>
          </div>
        </div>
      </section>

      <section class="page-card">
        <h2 class="page-title">üßÆ Magic Math Master ‚Äì M·∫´u ƒêƒÉng K√Ω</h2>
        <p class="lead">B·∫°n c√≥ th·ªÉ ƒëi·ªÅn m·∫´u n√†y b·∫±ng ti·∫øng Vi·ªát ho·∫∑c ti·∫øng Anh.</p>
        <p class="lead"><strong>üåê Ng√¥n ng·ªØ / Language</strong></p>
        <p class="lead">
          <a class="lang-link" href="../register.html">
            <img class="lang-flag-icon" src="../assets/flags/au-round.svg" alt="" aria-hidden="true" />
            <span>B·∫•m v√†o ƒë√¢y ƒë·ªÉ d√πng ti·∫øng Anh</span>
          </a>
        </p>
        <p class="lead"><strong>M·∫´u ƒëƒÉng k√Ω ch√≠nh th·ª©c c·ªßa Magic Math Master (Dr. Tuyet Vu).</strong></p>
        <p class="lead">Ch√∫ng t√¥i ch·ªâ thu th·∫≠p th√¥ng tin trong m·∫´u n√†y ƒë·ªÉ li√™n h·ªá v·ªõi b·∫°n v·ªÅ vi·ªác h·ªçc, ƒëƒÉng k√Ω v√† x·∫øp l·ªõp ph√π h·ª£p.</p>
        <p class="lead">C·∫ßn h·ªó tr·ª£?</p>

        <div class="contact-list">
          <a href="tel:+61402204599">üìû +61 402 204 599</a>
          <a href="https://wa.me/61402204599" target="_blank" rel="noopener">üü¢ WhatsApp</a>
          <a href="mailto:magicmathmasters@gmail.com?subject=ƒêƒÉng%20k√Ω%20Magic%20Math%20Master">‚úâÔ∏è G·ª≠i email: magicmathmasters@gmail.com</a>
        </div>

        <div class="contact-actions">
          <a class="contact-chip" href="mailto:magicmathmasters@gmail.com?subject=ƒêƒÉng%20k√Ω%20Magic%20Math%20Master">‚úâÔ∏è M·ªü ·ª©ng d·ª•ng email</a>
          <a class="contact-chip secondary" href="https://mail.google.com/mail/?view=cm&fs=1&to=magicmathmasters@gmail.com&su=%C4%90%C4%83ng%20k%C3%BD%20Magic%20Math%20Master" target="_blank" rel="noopener">üì® M·ªü Gmail</a>
          <button type="button" class="copy-mail-btn" id="copyEmailBtn">üìã Sao ch√©p email</button>
        </div>
        <p class="copy-note" id="copyNote" aria-live="polite"></p>

        <p class="lead">Vui l√≤ng ƒëi·ªÅn m·∫´u n√†y n·∫øu b·∫°n mu·ªën ƒëƒÉng k√Ω c√°c ch∆∞∆°ng tr√¨nh c·ªßa Magic Math Master. Ch√∫ng t√¥i s·∫Ω s·ªõm li√™n h·ªá ƒë·ªÉ x√°c nh·∫≠n b∆∞·ªõc ph√π h·ª£p ti·∫øp theo cho con b·∫°n.</p>
      </section>

      <form id="registerForm" action="https://script.google.com/macros/s/AKfycbzVvFfCeVr8QpPBYUMdMUaJK6H1L7BAWVwjrJoK3vqTCVGrQ9jqfcRUbooewNCsANpz/exec" method="post" novalidate>
        <input type="hidden" name="language" value="Ti·∫øng Vi·ªát">

        <section class="form-card">
          <h3 class="section-title">üë®‚Äçüë©‚Äçüëß Th√¥ng tin ph·ª• huynh / li√™n h·ªá</h3>

          <div class="field-block">
            <label class="required" for="email">Email</label>
            <input id="email" name="email" type="email" autocomplete="email" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ email h·ª£p l·ªá" required />
            <p class="note">Ch√∫ng t√¥i ch·ªâ s·ª≠ d·ª•ng email c·ªßa b·∫°n ƒë·ªÉ ph·∫£n h·ªìi ƒëƒÉng k√Ω n√†y.</p>
          </div>

          <div class="field-block">
            <label class="required" for="parentName">üßë‚Äçü§ù‚Äçüßë H·ªç v√† t√™n ph·ª• huynh / ng∆∞·ªùi gi√°m h·ªô</label>
            <input id="parentName" name="parent_name" type="text" placeholder="C√¢u tr·∫£ l·ªùi ng·∫Øn" required />
          </div>

          <div class="field-block">
            <label class="required" for="mobileNumber">üì± S·ªë ƒëi·ªán tho·∫°i</label>
            <input id="mobileNumber" name="mobile_number" type="tel" autocomplete="tel" placeholder="C√¢u tr·∫£ l·ªùi ng·∫Øn" required />
          </div>
        </section>

        <section class="form-card">
          <h3 class="section-title">‚òéÔ∏è C√°ch li√™n h·ªá</h3>

          <div class="field-block">
            <label class="required" for="contactMethod">Ph∆∞∆°ng th·ª©c li√™n h·ªá ∆∞u ti√™n</label>
            <select id="contactMethod" name="contact_method" required data-target="contactOther" data-other-value="Other">
              <option value="" selected disabled>Ch·ªçn m·ªôt ph∆∞∆°ng th·ª©c</option>
              <option value="Email">Email</option>
              <option value="Phone">ƒêi·ªán tho·∫°i</option>
              <option value="Text">Tin nh·∫Øn</option>
              <option value="WhatsApp (if used)">WhatsApp (n·∫øu d√πng)</option>
              <option value="Other">Kh√°c</option>
            </select>
            <div id="contactOther" class="inline-other">
              <input type="text" name="contact_method_other" placeholder="Vui l√≤ng ghi r√µ" />
            </div>
          </div>

          <div class="field-block">
            <label for="studentName">üßí H·ªç v√† t√™n h·ªçc sinh</label>
            <input id="studentName" name="student_name" type="text" placeholder="C√¢u tr·∫£ l·ªùi ng·∫Øn" />
          </div>
        </section>

        <section class="form-card">
          <h3 class="section-title">üéì Th√¥ng tin h·ªçc sinh</h3>

          <div class="field-block">
            <label class="required" for="yearLevel">L·ªõp hi·ªán t·∫°i</label>
            <select id="yearLevel" name="year_level" required data-target="yearOther" data-other-value="Other">
              <option value="" selected disabled>Ch·ªçn l·ªõp hi·ªán t·∫°i</option>
              <option value="Prep or Foundation">Prep / Foundation</option>
              <option value="Grade 1">L·ªõp 1</option>
              <option value="Grade 2">L·ªõp 2</option>
              <option value="Grade 3">L·ªõp 3</option>
              <option value="Grade 4">L·ªõp 4</option>
              <option value="Grade 5">L·ªõp 5</option>
              <option value="Grade 6">L·ªõp 6</option>
              <option value="Grade 7">L·ªõp 7</option>
              <option value="Grade 8">L·ªõp 8</option>
              <option value="Grade 9">L·ªõp 9</option>
              <option value="Grade 10">L·ªõp 10</option>
              <option value="Grade 11">L·ªõp 11</option>
              <option value="Grade 12">L·ªõp 12</option>
              <option value="Other">Kh√°c (vui l√≤ng ghi r√µ)</option>
            </select>
            <div id="yearOther" class="inline-other">
              <input type="text" name="year_level_other" placeholder="Vui l√≤ng ghi r√µ l·ªõp hi·ªán t·∫°i" />
            </div>
          </div>
        </section>

        <section class="form-card">
          <h3 class="section-title">üìò Ch·ªçn ch∆∞∆°ng tr√¨nh</h3>

          <fieldset class="field-block">
            <legend class="required">B·∫°n mu·ªën ƒëƒÉng k√Ω ch∆∞∆°ng tr√¨nh n√†o?</legend>
            <div class="option-list">
              <label class="option"><input type="checkbox" name="register_for" value="One-to-one" /> H·ªçc k√®m 1-1</label>
              <label class="option"><input type="checkbox" name="register_for" value="Group lessons" /> L·ªõp h·ªçc nh√≥m</label>
              <label class="option"><input type="checkbox" name="register_for" value="Maths Club" /> C√¢u l·∫°c b·ªô To√°n</label>
              <label class="option"><input type="checkbox" name="register_for" value="Maths competition training" /> Luy·ªán thi to√°n</label>
            </div>
            <p id="registerError" class="error">Vui l√≤ng ch·ªçn √≠t nh·∫•t m·ªôt ch∆∞∆°ng tr√¨nh.</p>
          </fieldset>

          <div class="field-block">
            <label class="required" for="lessonType">üè´ H√¨nh th·ª©c h·ªçc</label>
            <select id="lessonType" name="lesson_type" required data-target="lessonOther" data-other-value="Other">
              <option value="" selected disabled>Ch·ªçn h√¨nh th·ª©c h·ªçc</option>
              <option value="Online one-to-one">H·ªçc online 1-1</option>
              <option value="Face-to-face one-to-one (Coburg/ nearby)">H·ªçc tr·ª±c ti·∫øp 1-1 (Coburg / khu v·ª±c g·∫ßn ƒë√≥)</option>
              <option value="Face-to-face group (Coburg area/nearby)">H·ªçc tr·ª±c ti·∫øp theo nh√≥m (khu v·ª±c Coburg / g·∫ßn ƒë√≥)</option>
              <option value="Group (online)">H·ªçc nh√≥m online</option>
              <option value="School group program (at student‚Äôs school)">Ch∆∞∆°ng tr√¨nh h·ªçc nh√≥m t·∫°i tr∆∞·ªùng c·ªßa h·ªçc sinh</option>
              <option value="Either is fine">H√¨nh th·ª©c n√†o c≈©ng ƒë∆∞·ª£c</option>
              <option value="Not sure yet">Ch∆∞a ch·∫Øc ch·∫Øn</option>
              <option value="Other">Kh√°c</option>
            </select>
            <div id="lessonOther" class="inline-other">
              <input type="text" name="lesson_type_other" placeholder="Vui l√≤ng ghi r√µ" />
            </div>
          </div>
        </section>

        <section class="form-card">
          <h3 class="section-title">üå± M·ª•c ti√™u h·ªçc t·∫≠p</h3>

          <div class="field-block">
            <label class="required" for="helpAreas">‚úèÔ∏è Con b·∫°n c·∫ßn h·ªó tr·ª£ ·ªü nh·ªØng n·ªôi dung n√†o?</label>
            <p class="helper"><strong>V√≠ d·ª•:</strong> Ph√¢n s·ªë, b√†i to√°n ƒë·ªë, x√¢y d·ª±ng s·ª± t·ª± tin, chu·∫©n b·ªã thi, k·ªπ nƒÉng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ.</p>
            <textarea id="helpAreas" name="help_areas" placeholder="C√¢u tr·∫£ l·ªùi d√†i" required></textarea>
          </div>

          <div class="field-block">
            <label for="questions">‚ùì B·∫°n c√≥ c√¢u h·ªèi n√†o d√†nh cho Magic Math Master kh√¥ng?</label>
            <p class="helper"><strong>V√≠ d·ª•:</strong> H·ªçc ph√≠, l·ªãch h·ªçc, sƒ© s·ªë l·ªõp, ph∆∞∆°ng ph√°p gi·∫£ng d·∫°y ho·∫∑c tr√¨nh ƒë·ªô ph√π h·ª£p.</p>
            <textarea id="questions" name="questions" placeholder="C√¢u tr·∫£ l·ªùi d√†i"></textarea>
          </div>
        </section>

        <section class="form-card privacy">
          <h3 class="section-title">üîí Quy·ªÅn ri√™ng t∆∞ &amp; ƒë·ªìng √Ω</h3>

          <div class="field-block">
            <label class="required" for="consent">S·ª± ƒë·ªìng √Ω</label>
            <p class="lead">Ch√∫ng t√¥i ch·ªâ s·ª≠ d·ª•ng th√¥ng tin c·ªßa b·∫°n ƒë·ªÉ ph·∫£n h·ªìi ƒëƒÉng k√Ω n√†y.</p>
            <label class="option">
              <input id="consent" name="consent" type="checkbox" value="Yes" required />
              T√¥i ƒë·ªìng √Ω ƒë·ªÉ Magic Math Master li√™n h·ªá v·ªõi t√¥i v·ªÅ vi·ªác ƒëƒÉng k√Ω v√† s·ª≠ d·ª•ng th√¥ng tin c·ªßa t√¥i cho m·ª•c ƒë√≠ch n√†y.
            </label>
          </div>

          <div class="submit-row">
            <button type="submit" class="btn btn-amber" id="submitBtn">G·ª≠i ƒëƒÉng k√Ω</button>
            <span class="small">üå∏ Khi ƒë√£ s·∫µn s√†ng, vui l√≤ng b·∫•m G·ª≠i ƒëƒÉng k√Ω ƒë·ªÉ ho√†n t·∫•t.</span>
          </div>
        </section>
      </form>
    </div>
  </main>

  <div class="modal-backdrop" id="thankYouModal" hidden>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="thankYouTitle">
      <div class="modal-badge">üéâ ƒê√£ g·ª≠i</div>
      <h3 id="thankYouTitle">C·∫£m ∆°n b·∫°n ƒë√£ ƒëƒÉng k√Ω!</h3>
      <p>
        Magic Math Master ƒë√£ nh·∫≠n y√™u c·∫ßu t·ª´ bi·ªÉu m·∫´u n√†y. Ch√∫ng t√¥i s·∫Ω li√™n h·ªá v·ªõi b·∫°n s·ªõm ƒë·ªÉ x√°c nh·∫≠n b∆∞·ªõc ti·∫øp theo ph√π h·ª£p cho con b·∫°n.
      </p>
      <div class="modal-actions">
        <button type="button" class="btn btn-amber" id="closeThankYou">ƒê√≥ng</button>
        <a class="btn btn-outline" href="enquiry.html">G·ª≠i th√™m c√¢u h·ªèi</a>
      </div>
    </div>
  </div>

  <footer class="footer">
    <div class="container">¬© <span id="year"></span> Magic Math Master ‚Ä¢ Australia</div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const form = document.getElementById('registerForm');
    const checkboxGroup = [...document.querySelectorAll('input[name="register_for"]')];
    const registerError = document.getElementById('registerError');
    const submitBtn = document.getElementById('submitBtn');
    const thankYouModal = document.getElementById('thankYouModal');
    const closeThankYou = document.getElementById('closeThankYou');
    const copyEmailBtn = document.getElementById('copyEmailBtn');
    const copyNote = document.getElementById('copyNote');
    const SUPPORT_EMAIL = 'magicmathmasters@gmail.com';

    function validatePrograms() {
      const hasSelection = checkboxGroup.some(box => box.checked);
      registerError.classList.toggle('show', !hasSelection);
      checkboxGroup.forEach(box => {
        box.setCustomValidity(hasSelection ? '' : 'Vui l√≤ng ch·ªçn √≠t nh·∫•t m·ªôt ch∆∞∆°ng tr√¨nh.');
      });
      return hasSelection;
    }

    checkboxGroup.forEach(box => box.addEventListener('change', validatePrograms));

    function syncSelectOther(select) {
      const targetId = select.dataset.target;
      const otherValue = select.dataset.otherValue;
      if (!targetId || !otherValue) return;

      const target = document.getElementById(targetId);
      if (!target) return;

      const isActive = select.value === otherValue;
      target.classList.toggle('show', isActive);

      const field = target.querySelector('input');
      if (field) {
        field.required = isActive;
        if (!isActive) field.value = '';
      }
    }

    document.querySelectorAll('select[data-target]').forEach(select => {
      select.addEventListener('change', () => syncSelectOther(select));
      syncSelectOther(select);
    });

    function showModal() {
      thankYouModal.hidden = false;
      document.body.classList.add('modal-open');
      closeThankYou.focus();
    }

    function hideModal() {
      thankYouModal.hidden = true;
      document.body.classList.remove('modal-open');
    }

    closeThankYou.addEventListener('click', hideModal);

    thankYouModal.addEventListener('click', (event) => {
      if (event.target === thankYouModal) hideModal();
    });

    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape' && !thankYouModal.hidden) hideModal();
    });

    copyEmailBtn.addEventListener('click', async () => {
      try {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          await navigator.clipboard.writeText(SUPPORT_EMAIL);
        } else {
          const temp = document.createElement('input');
          temp.value = SUPPORT_EMAIL;
          document.body.appendChild(temp);
          temp.select();
          document.execCommand('copy');
          document.body.removeChild(temp);
        }
        copyNote.textContent = 'ƒê√£ sao ch√©p email: ' + SUPPORT_EMAIL;
      } catch (error) {
        copyNote.textContent = 'Kh√¥ng th·ªÉ sao ch√©p t·ª± ƒë·ªông. Vui l√≤ng sao ch√©p th·ªß c√¥ng: ' + SUPPORT_EMAIL;
      }
    });

    form.addEventListener('submit', async (event) => {
      event.preventDefault();

      const programsValid = validatePrograms();
      if (!programsValid || !form.checkValidity()) {
        form.reportValidity();
        return;
      }

      const originalText = submitBtn.textContent;
      submitBtn.disabled = true;
      submitBtn.textContent = 'ƒêang g·ª≠i...';

      try {
        await fetch(form.action, {
          method: 'POST',
          mode: 'no-cors',
          body: new FormData(form)
        });

        form.reset();
        registerError.classList.remove('show');
        checkboxGroup.forEach(box => box.setCustomValidity(''));
        document.querySelectorAll('select[data-target]').forEach(select => syncSelectOther(select));
        copyNote.textContent = '';
        showModal();
      } catch (error) {
        alert('C√≥ l·ªói khi g·ª≠i bi·ªÉu m·∫´u. Vui l√≤ng th·ª≠ l·∫°i ho·∫∑c li√™n h·ªá qua ƒëi·ªán tho·∫°i / email.');
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = originalText;
      }
    });
  </script>
</body>
</html>